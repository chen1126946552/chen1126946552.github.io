# PTmeili AI 产品测评指南

> 版本：2.0.0 | 更新日期：2026-01-29
>
> 合并版：基于 289 个问题的完整测评指南

---

## 一、概述

本指南用于指导如何填写标准答案、执行 AI 产品测评以及评估测评结果。

### 文件结构

```
docs/
├── ptengine-analysis-questions.md    # 问题清单（289个问题，合并版）
├── ptengine-standard-answers.json    # 标准答案数据文件
└── ptengine-eval-guide.md            # 本测评指南
```

### 数据来源

问题清单合并自两个来源：
- `ptengine-analysis-questions.md` (220题) - 数据运营视角
- `questionq.md` (100题) - 技术实现视角（含 Doris 数据表字段）

合并后去重得到 **289 个问题**。

---

## 二、答案类型说明

标准答案文件中定义了 8 种答案类型，每种类型有不同的数据结构和评分方式：

### 1. numeric（数值型）

用于单一或多个数值指标的问题。

**示例问题**：过去30天，网站的总访问量是多少？日均访问量是多少？

**答案结构**：
```json
{
  "expected_answer": {
    "total_visits": 150000,
    "daily_avg": 5000
  },
  "unit": "次",
  "tolerance": 0
}
```

**评分规则**：
- 精确匹配：100分
- 在误差范围内（tolerance）：100分
- 超出误差范围：按偏差比例扣分

---

### 2. percentage（百分比型）

用于单一百分比指标的问题。

**示例问题**：整体的访问-购买转化率是多少？

**答案结构**：
```json
{
  "expected_answer": {
    "overall_conversion_rate": 2.5
  },
  "unit": "%",
  "tolerance": 0.01
}
```

**填写规范**：
- 百分比以数字形式填写，如 2.5 表示 2.5%
- tolerance 为 0.01 表示允许 ±0.01% 的误差

---

### 3. ranking（排名/列表型）

用于需要列出 Top N 项目的问题。

**示例问题**：哪些商品浏览量最高？

**答案结构**：
```json
{
  "expected_answer": {
    "top_products": [
      {"product_name": "智能手表", "product_id": "SKU001", "views": 12000},
      {"product_name": "无线耳机", "product_id": "SKU002", "views": 9500},
      {"product_name": "运动鞋", "product_id": "SKU003", "views": 8200}
    ]
  }
}
```

**评分规则**：
- 排名顺序正确：满分
- 排名顺序部分正确：按正确比例得分
- 项目存在但顺序错误：部分得分

---

### 4. comparison（对比型）

用于需要比较两个或多个对象的问题。

**示例问题**：PC端和手机端哪个转化率更高？

**答案结构**：
```json
{
  "expected_answer": {
    "pc_conversion_rate": 3.2,
    "mobile_conversion_rate": 2.1,
    "winner": "pc"
  }
}
```

**评分规则**：
- 结论（winner）正确：60分
- 具体数值正确：40分
- 仅结论正确但数值错误：60分

---

### 5. distribution（分布型）

用于展示各项占比的问题。

**示例问题**：流量主要来自哪些渠道？各渠道占比是多少？

**答案结构**：
```json
{
  "expected_answer": {
    "channels": [
      {"name": "自然搜索", "visits": 45000, "percentage": 30},
      {"name": "付费广告", "visits": 30000, "percentage": 20},
      {"name": "直接访问", "visits": 37500, "percentage": 25},
      {"name": "社交媒体", "visits": 22500, "percentage": 15},
      {"name": "其他", "visits": 15000, "percentage": 10}
    ]
  }
}
```

**评分规则**：
- 所有项目和占比正确：满分
- 主要项目正确：按覆盖比例得分
- 占比在误差范围内：满分

---

### 6. trend（趋势型）

用于描述指标变化趋势的问题。

**示例问题**：客单价有上升还是下降的趋势？

**答案结构**：
```json
{
  "expected_answer": {
    "trend": "up",
    "change_percentage": 5.2,
    "period": "过去30天"
  }
}
```

**trend 取值**：
- `up`：上升
- `down`：下降
- `stable`：持平

**评分规则**：
- 趋势方向正确：70分
- 变化幅度正确：30分

---

### 7. boolean（是否型）

用于是/否判断的问题。

**示例问题**：竞品网站有给我们带来流量吗？

**答案结构**：
```json
{
  "expected_answer": {
    "has_competitor_traffic": true,
    "competitor_sites": ["competitor1.com", "competitor2.com"]
  }
}
```

**评分规则**：
- 判断正确：70分
- 补充信息正确：30分

---

### 8. descriptive（描述型）

用于需要分析和解释的复杂问题。

**示例问题**：流失的用户有什么共同特征？

**答案结构**：
```json
{
  "expected_answer": {
    "common_features": ["首次访问来自付费广告", "只浏览了1-2个页面", "使用移动设备"],
    "top_region": "三线城市",
    "top_device": "Android",
    "top_channel": "信息流广告"
  }
}
```

**评分规则**：
- 关键特征识别正确：按匹配度得分
- 需要人工审核确认

---

## 三、标准答案填写规范

### 3.1 通用规范

1. **数值精度**
   - 整数：不带小数点
   - 百分比：保留2位小数（如 2.35）
   - 金额：保留2位小数（如 199.00）

2. **空值处理**
   - 无数据时填写 `null`
   - 不适用时填写 `"N/A"`
   - 数组为空时填写 `[]`

3. **时间格式**
   - 日期：`YYYY-MM-DD`
   - 时间段：`HH:MM-HH:MM`
   - 时长（秒）：整数

### 3.2 技术字段引用

部分问题涉及具体的数据表字段，填写时需参考：

| 字段 | 说明 | 示例值 |
|------|------|--------|
| session_new_visit | 是否新访客 | true/false |
| session_bounce | 是否跳出 | true/false |
| session_visit_depth | 会话访问深度 | 5 |
| session_visit_stay_time | 会话停留时间 | 180 (秒) |
| pv_scroll_max | 最大滚动深度 | 85 (%) |
| pv_click_count | 页面点击次数 | 12 |
| pv_load_time | 页面加载时间 | 2.5 (秒) |
| pv_first_screen_churn | 首屏流失 | true/false |
| pv_is_landing_page | 是否落地页 | true/false |

### 3.3 填写示例

**问题 1**：过去30天，网站的总访问量是多少？日均访问量是多少？

```json
{
  "id": 1,
  "expected_answer": {
    "total_visits": 156789,
    "daily_avg": 5226
  }
}
```

**问题 34**：从「首页」→「商品详情」→「加入购物车」→「结算」→「购买完成」的各环节转化率是多少？

```json
{
  "id": 34,
  "expected_answer": {
    "funnel_steps": [
      {"step": "访问首页", "users": 50000, "conversion_rate": 100},
      {"step": "浏览商品", "users": 35000, "conversion_rate": 70},
      {"step": "加入购物车", "users": 8000, "conversion_rate": 16},
      {"step": "进入结算", "users": 4000, "conversion_rate": 8},
      {"step": "完成购买", "users": 1500, "conversion_rate": 3}
    ]
  }
}
```

---

## 四、测评执行流程

### 4.1 准备阶段

1. 确保标准答案文件已填写完整
2. 准备 PTengine API 调用凭证
3. 确定测评时间范围（与标准答案数据时间一致）

### 4.2 执行阶段

```
┌─────────────────┐
│  读取问题清单    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  调用 AI API    │ ◄── 逐个问题发送
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  解析 AI 回答   │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  对比标准答案   │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  计算得分       │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  生成测评报告   │
└─────────────────┘
```

### 4.3 API 调用示例

```javascript
// 示例：调用 PTengine AI API
async function askQuestion(questionId, questionText) {
  const response = await fetch('https://api.ptengine.com/ai/ask', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': 'Bearer YOUR_API_KEY'
    },
    body: JSON.stringify({
      question: questionText,
      context: {
        site_id: 'YOUR_SITE_ID',
        date_range: 'last_30_days'
      }
    })
  });
  
  return await response.json();
}
```

---

## 五、评分标准

### 5.1 单题评分

| 评分等级 | 分数范围 | 说明 |
|---------|---------|------|
| 完全正确 | 100 | 答案与标准答案完全匹配 |
| 基本正确 | 80-99 | 核心数据正确，细节有小偏差 |
| 部分正确 | 50-79 | 方向正确，但数据有明显偏差 |
| 基本错误 | 20-49 | 仅部分信息正确 |
| 完全错误 | 0-19 | 答案与标准答案不符 |

### 5.2 整体评分

```
总分 = Σ(单题得分 × 权重) / Σ权重
```

**权重分配建议**：

| 问题类别 | 权重 | 说明 |
|---------|------|------|
| 流量与获客 | 1.0 | 基础指标 |
| 转化漏斗 | 1.2 | 核心业务指标 |
| 商品表现 | 1.1 | 重要业务指标 |
| 用户浏览行为 | 1.0 | 基础分析 |
| 异常与问题监控 | 1.3 | 关键预警指标 |
| 实时指标 | 1.2 | 运营实时性 |
| 其他 | 1.0 | 默认权重 |

### 5.3 评分维度

除了准确性，还可以从以下维度评估：

1. **完整性**：答案是否涵盖问题的所有方面
2. **及时性**：响应时间是否在可接受范围内
3. **可解释性**：答案是否提供了合理的解释
4. **一致性**：多次询问相同问题，答案是否一致

---

## 六、测评报告模板

### 6.1 报告结构

```markdown
# PTmeili AI 产品测评报告

## 基本信息
- 测评日期：YYYY-MM-DD
- 测评问题数：289
- 数据时间范围：YYYY-MM-DD 至 YYYY-MM-DD

## 总体评分
- 总分：XX.X / 100
- 正确率：XX.X%
- 平均响应时间：X.XX 秒

## 分类评分
| 类别 | 问题数 | 平均分 | 正确率 |
|------|--------|--------|--------|
| 流量与获客 | 24 | XX.X | XX% |
| 落地页与首次体验 | 9 | XX.X | XX% |
| 转化漏斗 | 30 | XX.X | XX% |
| ... | ... | ... | ... |

## 详细结果
### 问题 1
- 问题：过去30天，网站的总访问量是多少？
- 标准答案：156,789 次
- AI 回答：155,000 次
- 得分：95
- 评价：基本正确，误差 1.1%

## 问题分析
### 表现优秀的问题类型
...

### 需要改进的问题类型
...

## 建议
...
```

---

## 七、常见问题

### Q1: 如何处理 AI 回答格式不一致的情况？

建议在评分时进行格式标准化：
- 提取数值时忽略单位文字
- 百分比统一转换为数字格式
- 列表答案按内容匹配而非顺序

### Q2: 描述型问题如何客观评分？

建议采用关键词匹配 + 人工审核的方式：
1. 定义关键词列表
2. 计算关键词覆盖率
3. 人工审核语义正确性

### Q3: 如何处理数据时效性问题？

确保：
1. 标准答案的数据时间范围明确
2. AI 查询的时间范围与标准答案一致
3. 记录数据提取时间戳

### Q4: 涉及技术字段的问题如何验证？

对于引用具体数据表字段（如 `session_visit_depth`、`pv_scroll_max`）的问题：
1. 确保 AI 能正确理解字段含义
2. 验证 AI 是否使用了正确的字段进行计算
3. 检查字段值的合理性

---

## 八、附录

### A. 答案类型速查表

| 类型 | 适用场景 | 评分重点 |
|------|---------|---------|
| numeric | 单一/多个数值 | 数值精确度 |
| percentage | 百分比指标 | 精确度 |
| ranking | Top N 列表 | 排名顺序 |
| comparison | A vs B 对比 | 结论正确性 |
| distribution | 占比分布 | 覆盖完整性 |
| trend | 趋势判断 | 方向正确性 |
| boolean | 是否判断 | 判断正确性 |
| descriptive | 复杂分析 | 关键点覆盖 |

### B. 问题分类统计（289题）

| 类别 | 子类别 | 问题编号 | 数量 |
|------|--------|---------|------|
| 一、流量与获客 | 流量概览 | 1-15 | 15 |
| | 新老用户分析 | 16-24 | 9 |
| 二、落地页与首次体验 | - | 25-33 | 9 |
| 三、转化漏斗 | 整体漏斗 | 34-42 | 9 |
| | 购物车分析 | 43-55 | 13 |
| | 结算流程分析 | 56-63 | 8 |
| 四、商品表现 | 商品基础指标 | 64-70 | 7 |
| | 商品分类分析 | 71-73 | 3 |
| | 价格与折扣分析 | 74-80 | 7 |
| | 商品组合与关联分析 | 81-85 | 5 |
| | 商品标签与属性影响 | 86-91 | 6 |
| 五、用户浏览行为 | 页面浏览指标 | 92-97 | 6 |
| | 跳出与退出分析 | 98-100 | 3 |
| | 浏览路径分析 | 101-103 | 3 |
| | 页面交互分析 | 104-114 | 11 |
| 六、收藏行为 | - | 115-122 | 8 |
| 七、设备与环境 | 设备分析 | 123-134 | 12 |
| | 网络与性能 | 135-136 | 2 |
| 八、地域分析 | - | 137-147 | 11 |
| 九、支付与配送 | 支付方式分析 | 148-153 | 6 |
| | 配送方式分析 | 154-160 | 7 |
| 十、订单与客单价 | - | 161-170 | 10 |
| 十一、用户价值与忠诚度 | 复购分析 | 171-174 | 4 |
| | 用户价值分析 | 175-182 | 8 |
| | 流失分析 | 183-187 | 5 |
| 十二、时间规律 | 日内时段分析 | 188-190 | 3 |
| | 周/月趋势分析 | 191-196 | 6 |
| | 节假日与季节性 | 197-199 | 3 |
| | 促销时段分析 | 200-202 | 3 |
| 十三、营销活动效果 | 营销活动整体效果 | 203-206 | 4 |
| | 广告效果分析 | 207-214 | 8 |
| | 优惠券与促销 | 215-220 | 6 |
| | 邮件订阅 | 221-223 | 3 |
| 十四、异常与问题监控 | 日常异常监控 | 224-231 | 8 |
| | 性能监控 | 232-234 | 3 |
| | 结算与支付异常 | 235-238 | 4 |
| | 实时指标 | 239-241 | 3 |
| 十五、用户分群与画像 | 用户细分 | 242-253 | 12 |
| | 用户标签 | 254-255 | 2 |
| 十六、搜索与导航 | - | 256-262 | 7 |
| 十七、推荐效果 | - | 263-268 | 6 |
| 十八、竞争与机会 | - | 269-275 | 7 |
| 十九、长期趋势 | - | 276-285 | 10 |
| 二十、身份识别与跨设备分析 | - | 286-289 | 4 |

**总计：289 个问题**

### C. 相关数据表字段参考

#### behavior_fact 表常用字段

| 字段 | 说明 |
| ---- | ---- |
| user_id | 用户ID |
| event_time | 事件时间 |
| event_name | 事件名称 |
| session_id | 会话ID |
| event_properties | 事件属性 |
| session_device_type | 设备类型 |
| session_browser | 浏览器 |
| session_city | 城市 |
| session_ad_source | 广告来源 |
| session_new_visit | 是否新访客 |
| session_bounce | 是否跳出 |
| session_visit_depth | 会话访问深度 |
| session_visit_stay_time | 会话停留时间 |
| session_resolution | 屏幕分辨率 |
| session_operating_system | 操作系统 |
| session_state | 省份/地区 |
| session_country | 国家 |
| session_timezone | 时区 |
| session_device_maker | 设备制造商 |
| pv_is_landing_page | 是否落地页 |
| pv_first_screen_churn | 首屏流失 |
| pv_scroll_max | 最大滚动深度 |
| pv_click_count | 页面点击次数 |
| pv_load_time | 页面加载时间 |

#### user_dim 表常用字段

| 字段 | 说明 |
| ---- | ---- |
| user_id | 用户ID |
| initial_datetime | 首次访问时间 |
| initial_ad_source | 首次广告来源 |
| initial_referrer_host | 首次引荐来源域名 |
| last_datetime | 最后访问时间 |
| total_sessions | 总会话数 |
| user_variant | 用户自定义变量 |

#### UTM 参数字段

| 字段 | 说明 |
| ---- | ---- |
| utm_source | 流量来源 |
| utm_medium | 媒介类型 |
| utm_campaign | 广告活动 |
| utm_content | 广告内容 |
| utm_term | 广告关键词 |

---

*文档版本：v2.0*
*更新日期：2026-01-29*
*文档结束*
