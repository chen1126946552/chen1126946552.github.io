<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-TTPBR7L');</script>
  <!-- End Google Tag Manager -->
  <script src="https://cdn.amplitude.com/script/92be23a58f32a14b496d02c34c2cc0f5.js"></script>
  <script>window.amplitude.add(window.sessionReplay.plugin({sampleRate: 1}));window.amplitude.init('92be23a58f32a14b496d02c34c2cc0f5', {"fetchRemoteConfig":true,"autocapture":{"attribution":true,"fileDownloads":true,"formInteractions":true,"pageViews":true,"sessions":true,"elementInteractions":true,"networkTracking":true,"webVitals":true,"frustrationInteractions":true}});</script>
  <script src="https://devjs.ptengine.com/7a80pnx3.js"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ç®¡ç†æ‚¨çš„è´¦æˆ·ä¿¡æ¯">
  <title>æˆ‘çš„è´¦æˆ· - ç”µå•†ç¤ºä¾‹</title>
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/common.css">
  <style>
    .account-page {
      padding: 40px 0 60px;
    }

    .account-layout {
      display: grid;
      grid-template-columns: 250px 1fr;
      gap: 30px;
    }

    /* ä¾§è¾¹æ  */
    .account-sidebar {
      background-color: var(--bg-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .user-info {
      padding: 30px 20px;
      text-align: center;
      background: linear-gradient(135deg, var(--primary-color), #ff8e8e);
      color: white;
    }

    .user-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 15px;
      font-size: 36px;
    }

    .user-name {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .user-level {
      font-size: 13px;
      opacity: 0.9;
    }

    .sidebar-menu {
      padding: 15px 0;
    }

    .menu-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 15px 25px;
      color: var(--text-color);
      transition: var(--transition);
      cursor: pointer;
    }

    .menu-item:hover {
      background-color: var(--bg-color);
      color: var(--primary-color);
    }

    .menu-item.active {
      background-color: rgba(255, 107, 107, 0.1);
      color: var(--primary-color);
      border-left: 3px solid var(--primary-color);
    }

    .menu-item .icon {
      font-size: 18px;
      width: 24px;
      text-align: center;
    }

    /* ä¸»å†…å®¹åŒº */
    .account-content {
      background-color: var(--bg-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      min-height: 500px;
    }

    .content-header {
      padding: 25px 30px;
      border-bottom: 1px solid var(--border-light);
    }

    .content-header h2 {
      font-size: 20px;
      color: var(--text-color);
    }

    .content-body {
      padding: 30px;
    }

    /* è´¦æˆ·æ¦‚è§ˆ */
    .overview-stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 40px;
    }

    .stat-card {
      text-align: center;
      padding: 25px 15px;
      background-color: var(--bg-color);
      border-radius: var(--radius);
    }

    .stat-value {
      font-size: 32px;
      font-weight: bold;
      color: var(--primary-color);
      margin-bottom: 8px;
    }

    .stat-label {
      font-size: 14px;
      color: var(--text-light);
    }

    /* å¿«æ·å…¥å£ */
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      margin-bottom: 40px;
    }

    .quick-action {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      padding: 20px;
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      cursor: pointer;
      transition: var(--transition);
    }

    .quick-action:hover {
      border-color: var(--primary-color);
      background-color: rgba(255, 107, 107, 0.05);
    }

    .quick-action .icon {
      font-size: 28px;
    }

    .quick-action .label {
      font-size: 14px;
      color: var(--text-color);
    }

    /* è®¢å•åˆ—è¡¨ */
    .section-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .section-title a {
      font-size: 14px;
      font-weight: normal;
      color: var(--primary-color);
    }

    .order-list {
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      overflow: hidden;
    }

    .order-item {
      border-bottom: 1px solid var(--border-light);
    }

    .order-item:last-child {
      border-bottom: none;
    }

    .order-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background-color: var(--bg-color);
    }

    .order-id {
      font-weight: 500;
    }

    .order-status {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 13px;
    }

    .order-status.pending {
      background-color: #fff3cd;
      color: #856404;
    }

    .order-status.shipped {
      background-color: #cce5ff;
      color: #004085;
    }

    .order-status.completed {
      background-color: #d4edda;
      color: #155724;
    }

    .order-body {
      padding: 20px;
    }

    .order-products {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
    }

    .order-product-image {
      width: 60px;
      height: 60px;
      border-radius: var(--radius-sm);
      overflow: hidden;
    }

    .order-product-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .order-product-info {
      flex: 1;
    }

    .order-product-name {
      font-weight: 500;
      margin-bottom: 5px;
    }

    .order-product-variant {
      font-size: 13px;
      color: var(--text-muted);
    }

    .order-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 15px;
      border-top: 1px solid var(--border-light);
    }

    .order-total {
      font-size: 16px;
    }

    .order-total .amount {
      color: var(--primary-color);
      font-weight: bold;
    }

    .order-actions {
      display: flex;
      gap: 10px;
    }

    /* ä¸ªäººä¿¡æ¯è¡¨å• */
    .profile-form {
      max-width: 600px;
    }

    .avatar-upload {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 30px;
    }

    .avatar-preview {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background-color: var(--bg-color);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
    }

    /* åœ°å€ç®¡ç† */
    .address-list {
      display: grid;
      gap: 20px;
    }

    .address-card {
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      padding: 20px;
      position: relative;
    }

    .address-card.default {
      border-color: var(--primary-color);
    }

    .address-default-tag {
      position: absolute;
      top: 0;
      right: 0;
      background-color: var(--primary-color);
      color: white;
      padding: 4px 12px;
      font-size: 12px;
      border-radius: 0 var(--radius) 0 var(--radius);
    }

    .address-name {
      font-weight: bold;
      margin-bottom: 8px;
    }

    .address-phone {
      color: var(--text-light);
      margin-bottom: 8px;
    }

    .address-detail {
      color: var(--text-color);
      line-height: 1.6;
    }

    .address-actions {
      margin-top: 15px;
      display: flex;
      gap: 15px;
    }

    .address-actions a {
      font-size: 14px;
      color: var(--text-light);
    }

    .address-actions a:hover {
      color: var(--primary-color);
    }

    /* ç©ºçŠ¶æ€ */
    .empty-state {
      text-align: center;
      padding: 60px 20px;
    }

    .empty-state .icon {
      font-size: 64px;
      margin-bottom: 20px;
      opacity: 0.3;
    }

    .empty-state h3 {
      font-size: 18px;
      margin-bottom: 10px;
    }

    .empty-state p {
      color: var(--text-light);
      margin-bottom: 20px;
    }

    /* éšè—çš„å†…å®¹åŒº */
    .tab-panel {
      display: none;
    }

    .tab-panel.active {
      display: block;
    }

    /* ç™»å½•æ¡†æ ·å¼ */
    .login-container {
      max-width: 450px;
      margin: 0 auto;
      padding: 40px 0;
    }

    .login-box {
      background-color: var(--bg-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 40px;
    }

    .login-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .login-header h2 {
      font-size: 24px;
      color: var(--text-color);
      margin-bottom: 10px;
    }

    .login-header p {
      color: var(--text-light);
      font-size: 14px;
    }

    .login-form .form-group {
      margin-bottom: 20px;
    }

    .login-form .btn-primary {
      width: 100%;
      padding: 14px;
      font-size: 16px;
      margin-top: 10px;
    }

    .logged-in-info {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 15px;
      background-color: #d4edda;
      border-radius: var(--radius-sm);
      margin-bottom: 20px;
      color: #155724;
      font-size: 14px;
    }

    .logged-in-info .icon {
      font-size: 18px;
    }

    .logout-btn {
      margin-left: auto;
      color: #155724;
      font-size: 13px;
      text-decoration: underline;
      cursor: pointer;
    }

    .logout-btn:hover {
      color: var(--primary-color);
    }

    @media (max-width: 992px) {
      .account-layout {
        grid-template-columns: 1fr;
      }

      .account-sidebar {
        display: none;
      }

      .overview-stats,
      .quick-actions {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 576px) {
      .overview-stats,
      .quick-actions {
        grid-template-columns: 1fr;
      }

      .order-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TTPBR7L"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <script>
    ptengine.track('æˆ‘çš„è´¦æˆ·',{
      'äº‹ä»¶å‘ç”Ÿæ—¶é—´æˆ³': Date.now(),
      'äº‹ä»¶å‘ç”Ÿæ—¶é—´': new Date().toLocaleString(),
      'äº‹ä»¶å‘ç”Ÿçš„url': document.location.href,
      'é¡µé¢æ ‡é¢˜': document.title,
      'æ¥æº': document.referrer || 'ç›´æ¥è®¿é—®'
    });
  </script>

  <!-- å¤´éƒ¨å¯¼èˆª -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <a href="index.html" class="logo">ç”µå•†ç¤ºä¾‹</a>
        <button class="menu-toggle" aria-label="èœå•">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <nav class="nav">
          <a href="index.html">é¦–é¡µ</a>
          <a href="products.html">å…¨éƒ¨å•†å“</a>
          <a href="cart.html" class="cart-icon">
            è´­ç‰©è½¦
            <span class="cart-count" style="display: none;">0</span>
          </a>
          <a href="account.html" class="active">æˆ‘çš„è´¦æˆ·</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="account-page">
    <div class="container">
      <!-- ç™»å½•æ¡†ï¼ˆæœªç™»å½•æ—¶æ˜¾ç¤ºï¼‰ -->
      <div class="login-container" id="loginContainer">
        <div class="login-box">
          <div class="login-header">
            <h2>ç™»å½•è´¦æˆ·</h2>
            <p>ç™»å½•åäº«å—æ›´å¤šä¼šå‘˜æƒç›Š</p>
          </div>
          <form class="login-form" id="loginForm" onsubmit="handleLogin(event)">
            <div class="form-group">
              <label>ç”µå­é‚®ç®± <span class="required">*</span></label>
              <input type="email" class="form-control" id="loginEmail" placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±" required>
            </div>
            <div class="form-group">
              <label>ç”Ÿæ—¥ <span class="required">*</span></label>
              <input type="date" class="form-control" id="loginBirthday" required>
            </div>
            <button type="submit" class="btn btn-primary">ç™»å½•</button>
          </form>
        </div>
      </div>

      <!-- å·²ç™»å½•å†…å®¹ï¼ˆç™»å½•åæ˜¾ç¤ºï¼‰ -->
      <div class="account-layout" id="accountContent" style="display: none;">
        <!-- ä¾§è¾¹æ  -->
        <aside class="account-sidebar">
          <div class="user-info">
            <div class="user-avatar">ğŸ‘¤</div>
            <div class="user-name" id="sidebarUserName">ç”¨æˆ·</div>
            <div class="user-level" id="sidebarUserEmail">æœªç™»å½•</div>
          </div>
          <nav class="sidebar-menu">
            <div class="menu-item active" data-tab="overview">
              <span class="icon">ğŸ“Š</span>
              <span>è´¦æˆ·æ¦‚è§ˆ</span>
            </div>
            <div class="menu-item" data-tab="orders">
              <span class="icon">ğŸ“¦</span>
              <span>æˆ‘çš„è®¢å•</span>
            </div>
            <div class="menu-item" data-tab="profile">
              <span class="icon">ğŸ‘¤</span>
              <span>ä¸ªäººä¿¡æ¯</span>
            </div>
            <div class="menu-item" data-tab="address">
              <span class="icon">ğŸ“</span>
              <span>æ”¶è´§åœ°å€</span>
            </div>
            <div class="menu-item" data-tab="favorites">
              <span class="icon">â¤ï¸</span>
              <span>æˆ‘çš„æ”¶è—</span>
            </div>
            <div class="menu-item" data-tab="coupons">
              <span class="icon">ğŸ«</span>
              <span>ä¼˜æƒ åˆ¸</span>
            </div>
          </nav>
        </aside>

        <!-- ä¸»å†…å®¹åŒº -->
        <div class="account-content">
          <!-- è´¦æˆ·æ¦‚è§ˆ -->
          <div class="tab-panel active" id="panel-overview">
            <div class="content-header">
              <h2>è´¦æˆ·æ¦‚è§ˆ</h2>
            </div>
            <div class="content-body">
              <!-- å·²ç™»å½•æç¤º -->
              <div class="logged-in-info" id="loggedInInfo">
                <span class="icon">âœ“</span>
                <span>å·²ç™»å½•ï¼š<strong id="displayEmail">-</strong></span>
                <button type="button" class="logout-btn" id="logoutBtn">é€€å‡ºç™»å½•</button>
              </div>
              
              <div class="overview-stats">
                <div class="stat-card">
                  <div class="stat-value" id="orderCount">0</div>
                  <div class="stat-label">å…¨éƒ¨è®¢å•</div>
                </div>
                <div class="stat-card">
                  <div class="stat-value" id="pendingCount">0</div>
                  <div class="stat-label">å¾…å‘è´§</div>
                </div>
                <div class="stat-card">
                  <div class="stat-value" id="shippedCount">0</div>
                  <div class="stat-label">å¾…æ”¶è´§</div>
                </div>
                <div class="stat-card">
                  <div class="stat-value" id="couponCount">2</div>
                  <div class="stat-label">ä¼˜æƒ åˆ¸</div>
                </div>
              </div>

              <div class="quick-actions">
                <div class="quick-action" onclick="switchTab('orders')">
                  <span class="icon">ğŸ“¦</span>
                  <span class="label">æˆ‘çš„è®¢å•</span>
                </div>
                <div class="quick-action" onclick="switchTab('favorites')">
                  <span class="icon">â¤ï¸</span>
                  <span class="label">æˆ‘çš„æ”¶è—</span>
                </div>
                <div class="quick-action" onclick="switchTab('address')">
                  <span class="icon">ğŸ“</span>
                  <span class="label">æ”¶è´§åœ°å€</span>
                </div>
                <div class="quick-action" onclick="switchTab('coupons')">
                  <span class="icon">ğŸ«</span>
                  <span class="label">ä¼˜æƒ åˆ¸</span>
                </div>
              </div>

              <div class="section-title">
                <span>æœ€è¿‘è®¢å•</span>
                <a href="#" onclick="switchTab('orders'); return false;">æŸ¥çœ‹å…¨éƒ¨</a>
              </div>
              <div class="order-list" id="recentOrders">
                <!-- åŠ¨æ€ç”Ÿæˆ -->
              </div>
            </div>
          </div>

          <!-- æˆ‘çš„è®¢å• -->
          <div class="tab-panel" id="panel-orders">
            <div class="content-header">
              <h2>æˆ‘çš„è®¢å•</h2>
            </div>
            <div class="content-body">
              <div class="order-list" id="allOrders">
                <!-- åŠ¨æ€ç”Ÿæˆ -->
              </div>
            </div>
          </div>

          <!-- ä¸ªäººä¿¡æ¯ -->
          <div class="tab-panel" id="panel-profile">
            <div class="content-header">
              <h2>ä¸ªäººä¿¡æ¯</h2>
            </div>
            <div class="content-body">
              <form class="profile-form">
                <div class="avatar-upload">
                  <div class="avatar-preview">ğŸ‘¤</div>
                  <div>
                    <button type="button" class="btn btn-outline btn-sm">æ›´æ¢å¤´åƒ</button>
                    <p style="font-size: 12px; color: var(--text-muted); margin-top: 8px;">
                      æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œæ–‡ä»¶å°äº 2MB
                    </p>
                  </div>
                </div>
                <div class="form-group">
                  <label>ç”¨æˆ·å</label>
                  <input type="text" class="form-control" value="ç”¨æˆ·123456" disabled>
                </div>
                <div class="form-group">
                  <label>æ˜µç§°</label>
                  <input type="text" class="form-control" placeholder="è¯·è¾“å…¥æ˜µç§°">
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>æ‰‹æœºå·ç </label>
                    <input type="tel" class="form-control" placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç ">
                  </div>
                  <div class="form-group">
                    <label>ç”µå­é‚®ç®±</label>
                    <input type="email" class="form-control" placeholder="è¯·è¾“å…¥é‚®ç®±">
                  </div>
                </div>
                <div class="form-group">
                  <label>æ€§åˆ«</label>
                  <select class="form-control">
                    <option value="">è¯·é€‰æ‹©</option>
                    <option value="male">ç”·</option>
                    <option value="female">å¥³</option>
                    <option value="other">ä¿å¯†</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>ç”Ÿæ—¥</label>
                  <input type="date" class="form-control">
                </div>
                <button type="submit" class="btn btn-primary" onclick="event.preventDefault(); showToast('ä¿¡æ¯å·²ä¿å­˜');">
                  ä¿å­˜ä¿®æ”¹
                </button>
              </form>
            </div>
          </div>

          <!-- æ”¶è´§åœ°å€ -->
          <div class="tab-panel" id="panel-address">
            <div class="content-header">
              <h2>æ”¶è´§åœ°å€</h2>
            </div>
            <div class="content-body">
              <button class="btn btn-primary mb-20" onclick="showToast('æ·»åŠ åœ°å€åŠŸèƒ½æ¼”ç¤º')">
                + æ·»åŠ æ–°åœ°å€
              </button>
              <div class="address-list">
                <div class="address-card default">
                  <span class="address-default-tag">é»˜è®¤</span>
                  <div class="address-name">å¼ ä¸‰</div>
                  <div class="address-phone">138****8000</div>
                  <div class="address-detail">å¹¿ä¸œçœ æ·±åœ³å¸‚ å—å±±åŒº ç§‘æŠ€å›­è·¯123å· è…¾è®¯å¤§å¦</div>
                  <div class="address-actions">
                    <a href="#" onclick="showToast('ç¼–è¾‘åœ°å€åŠŸèƒ½æ¼”ç¤º'); return false;">ç¼–è¾‘</a>
                    <a href="#" onclick="showToast('åˆ é™¤åœ°å€åŠŸèƒ½æ¼”ç¤º'); return false;">åˆ é™¤</a>
                  </div>
                </div>
                <div class="address-card">
                  <div class="address-name">æå››</div>
                  <div class="address-phone">139****9000</div>
                  <div class="address-detail">åŒ—äº¬å¸‚ æœé˜³åŒº æœ›äº¬è¡—é“ æœ›äº¬SOHO T3</div>
                  <div class="address-actions">
                    <a href="#" onclick="showToast('è®¾ä¸ºé»˜è®¤åŠŸèƒ½æ¼”ç¤º'); return false;">è®¾ä¸ºé»˜è®¤</a>
                    <a href="#" onclick="showToast('ç¼–è¾‘åœ°å€åŠŸèƒ½æ¼”ç¤º'); return false;">ç¼–è¾‘</a>
                    <a href="#" onclick="showToast('åˆ é™¤åœ°å€åŠŸèƒ½æ¼”ç¤º'); return false;">åˆ é™¤</a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- æˆ‘çš„æ”¶è— -->
          <div class="tab-panel" id="panel-favorites">
            <div class="content-header">
              <h2>æˆ‘çš„æ”¶è—</h2>
            </div>
            <div class="content-body">
              <div class="empty-state">
                <div class="icon">â¤ï¸</div>
                <h3>æš‚æ— æ”¶è—</h3>
                <p>å¿«å»æ”¶è—å–œæ¬¢çš„å•†å“å§</p>
                <a href="products.html" class="btn btn-primary">å»é€›é€›</a>
              </div>
            </div>
          </div>

          <!-- ä¼˜æƒ åˆ¸ -->
          <div class="tab-panel" id="panel-coupons">
            <div class="content-header">
              <h2>ä¼˜æƒ åˆ¸</h2>
            </div>
            <div class="content-body">
              <div style="display: grid; gap: 15px;">
                <div style="border: 2px dashed var(--primary-color); border-radius: var(--radius); padding: 20px; display: flex; align-items: center; gap: 20px;">
                  <div style="text-align: center; padding: 0 20px; border-right: 1px dashed var(--border-color);">
                    <div style="font-size: 32px; font-weight: bold; color: var(--primary-color);">Â¥50</div>
                    <div style="font-size: 12px; color: var(--text-muted);">æ»¡199å¯ç”¨</div>
                  </div>
                  <div style="flex: 1;">
                    <div style="font-weight: bold; margin-bottom: 5px;">æ–°ç”¨æˆ·ä¸“äº«åˆ¸</div>
                    <div style="font-size: 13px; color: var(--text-muted);">æœ‰æ•ˆæœŸè‡³ 2024-12-31</div>
                  </div>
                  <button class="btn btn-primary btn-sm" onclick="showToast('å»ä½¿ç”¨åŠŸèƒ½æ¼”ç¤º')">å»ä½¿ç”¨</button>
                </div>
                <div style="border: 2px dashed var(--primary-color); border-radius: var(--radius); padding: 20px; display: flex; align-items: center; gap: 20px;">
                  <div style="text-align: center; padding: 0 20px; border-right: 1px dashed var(--border-color);">
                    <div style="font-size: 32px; font-weight: bold; color: var(--primary-color);">9æŠ˜</div>
                    <div style="font-size: 12px; color: var(--text-muted);">æ— é—¨æ§›</div>
                  </div>
                  <div style="flex: 1;">
                    <div style="font-weight: bold; margin-bottom: 5px;">ä¼šå‘˜ä¸“å±æŠ˜æ‰£åˆ¸</div>
                    <div style="font-size: 13px; color: var(--text-muted);">æœ‰æ•ˆæœŸè‡³ 2024-12-31</div>
                  </div>
                  <button class="btn btn-primary btn-sm" onclick="showToast('å»ä½¿ç”¨åŠŸèƒ½æ¼”ç¤º')">å»ä½¿ç”¨</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- é¡µè„š -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div>
          <h3>å…³äºæˆ‘ä»¬</h3>
          <ul>
            <li><a href="#">å…¬å¸ç®€ä»‹</a></li>
            <li><a href="#">è”ç³»æ–¹å¼</a></li>
            <li><a href="#">æ‹›è˜ä¿¡æ¯</a></li>
            <li><a href="#">æ–°é—»ä¸­å¿ƒ</a></li>
          </ul>
        </div>
        <div>
          <h3>å®¢æˆ·æœåŠ¡</h3>
          <ul>
            <li><a href="#">å¸®åŠ©ä¸­å¿ƒ</a></li>
            <li><a href="#">é…é€æ–¹å¼</a></li>
            <li><a href="#">é€€æ¢è´§æ”¿ç­–</a></li>
            <li><a href="#">æŠ•è¯‰å»ºè®®</a></li>
          </ul>
        </div>
        <div>
          <h3>å•†å®¶åˆä½œ</h3>
          <ul>
            <li><a href="#">å…¥é©»æ¡ä»¶</a></li>
            <li><a href="#">å•†å®¶ä¸­å¿ƒ</a></li>
            <li><a href="#">è¥é”€ä¸­å¿ƒ</a></li>
            <li><a href="#">ç‰©æµæœåŠ¡</a></li>
          </ul>
        </div>
        <div>
          <h3>å…³æ³¨æˆ‘ä»¬</h3>
          <ul>
            <li><a href="#">å¾®ä¿¡å…¬ä¼—å·</a></li>
            <li><a href="#">å¾®åš</a></li>
            <li><a href="#">æŠ–éŸ³</a></li>
            <li><a href="#">å°çº¢ä¹¦</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        Â© 2024 ç”µå•†ç¤ºä¾‹ ç‰ˆæƒæ‰€æœ‰
      </div>
    </div>
  </footer>

  <script src="/js/common.js"></script>
  <script src="/js/tracking.js"></script>
  <script>
    // æ¨¡æ‹Ÿè®¢å•æ•°æ®
    const mockOrders = [
      {
        id: 'ORD20240527001',
        status: 'completed',
        statusText: 'å·²å®Œæˆ',
        date: '2024-05-27',
        items: [
          {
            name: 'é«˜å“è´¨æ— çº¿è€³æœº',
            image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=100&h=100&fit=crop',
            variant: 'é»‘è‰²',
            quantity: 1,
            price: 299
          }
        ],
        total: 299
      },
      {
        id: 'ORD20240525002',
        status: 'shipped',
        statusText: 'å·²å‘è´§',
        date: '2024-05-25',
        items: [
          {
            name: 'æ—¶å°šä¼‘é—²å¤¹å…‹',
            image: 'https://images.unsplash.com/photo-1551028719-00167b16eac5?w=100&h=100&fit=crop',
            variant: 'L / è—é’è‰²',
            quantity: 1,
            price: 399
          }
        ],
        total: 399
      },
      {
        id: 'ORD20240520003',
        status: 'pending',
        statusText: 'å¾…å‘è´§',
        date: '2024-05-20',
        items: [
          {
            name: 'æ™ºèƒ½è¿åŠ¨æ‰‹è¡¨',
            image: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=100&h=100&fit=crop',
            variant: 'æ›œçŸ³é»‘',
            quantity: 1,
            price: 599
          }
        ],
        total: 599
      }
    ];

    // åˆå§‹åŒ–
    function init() {
      // æ£€æŸ¥æ˜¯å¦æœ‰æœ€è¿‘è®¢å•
      const lastOrder = sessionStorage.getItem('lastOrder');
      if (lastOrder) {
        const order = JSON.parse(lastOrder);
        mockOrders.unshift({
          id: order.orderId,
          status: 'pending',
          statusText: 'å¾…å‘è´§',
          date: new Date(order.createdAt).toLocaleDateString('zh-CN'),
          items: order.items.map(item => ({
            name: item.name,
            image: item.image,
            variant: item.variant ? Object.values(item.variant).join(' / ') : '',
            quantity: item.quantity,
            price: item.price
          })),
          total: order.total
        });
      }

      // æ›´æ–°ç»Ÿè®¡æ•°æ®
      updateStats();

      // æ¸²æŸ“è®¢å•åˆ—è¡¨
      renderOrders();

      // ç»‘å®šèœå•äº‹ä»¶
      bindMenuEvents();
    }

    // æ›´æ–°ç»Ÿè®¡æ•°æ®
    function updateStats() {
      document.getElementById('orderCount').textContent = mockOrders.length;
      document.getElementById('pendingCount').textContent = 
        mockOrders.filter(o => o.status === 'pending').length;
      document.getElementById('shippedCount').textContent = 
        mockOrders.filter(o => o.status === 'shipped').length;
    }

    // æ¸²æŸ“è®¢å•åˆ—è¡¨
    function renderOrders() {
      const recentContainer = document.getElementById('recentOrders');
      const allContainer = document.getElementById('allOrders');

      const renderOrderItem = (order) => `
        <div class="order-item">
          <div class="order-header">
            <span class="order-id">è®¢å•å·ï¼š${order.id}</span>
            <span class="order-status ${order.status}">${order.statusText}</span>
          </div>
          <div class="order-body">
            <div class="order-products">
              ${order.items.map(item => `
                <div class="order-product-image">
                  <img src="${item.image}" alt="${item.name}">
                </div>
                <div class="order-product-info">
                  <div class="order-product-name">${item.name}</div>
                  <div class="order-product-variant">${item.variant} x${item.quantity}</div>
                </div>
              `).join('')}
            </div>
            <div class="order-footer">
              <div class="order-total">
                å…± ${order.items.reduce((sum, i) => sum + i.quantity, 0)} ä»¶å•†å“ï¼Œ
                å®ä»˜ <span class="amount">${formatPrice(order.total)}</span>
              </div>
              <div class="order-actions">
                <button class="btn btn-outline btn-sm" onclick="showToast('æŸ¥çœ‹è¯¦æƒ…åŠŸèƒ½æ¼”ç¤º')">æŸ¥çœ‹è¯¦æƒ…</button>
                ${order.status === 'shipped' ? 
                  '<button class="btn btn-primary btn-sm" onclick="showToast(\'ç¡®è®¤æ”¶è´§åŠŸèƒ½æ¼”ç¤º\')">ç¡®è®¤æ”¶è´§</button>' : ''}
                ${order.status === 'completed' ? 
                  '<button class="btn btn-outline btn-sm" onclick="showToast(\'å†æ¬¡è´­ä¹°åŠŸèƒ½æ¼”ç¤º\')">å†æ¬¡è´­ä¹°</button>' : ''}
              </div>
            </div>
          </div>
        </div>
      `;

      // æœ€è¿‘è®¢å•ï¼ˆæ˜¾ç¤ºå‰2ä¸ªï¼‰
      if (mockOrders.length > 0) {
        recentContainer.innerHTML = mockOrders.slice(0, 2).map(renderOrderItem).join('');
      } else {
        recentContainer.innerHTML = `
          <div class="empty-state">
            <div class="icon">ğŸ“¦</div>
            <h3>æš‚æ— è®¢å•</h3>
            <p>å¿«å»é€‰è´­å¿ƒä»ªçš„å•†å“å§</p>
            <a href="products.html" class="btn btn-primary">å»è´­ç‰©</a>
          </div>
        `;
      }

      // å…¨éƒ¨è®¢å•
      if (mockOrders.length > 0) {
        allContainer.innerHTML = mockOrders.map(renderOrderItem).join('');
      } else {
        allContainer.innerHTML = `
          <div class="empty-state">
            <div class="icon">ğŸ“¦</div>
            <h3>æš‚æ— è®¢å•</h3>
            <p>å¿«å»é€‰è´­å¿ƒä»ªçš„å•†å“å§</p>
            <a href="products.html" class="btn btn-primary">å»è´­ç‰©</a>
          </div>
        `;
      }
    }

    // ç»‘å®šèœå•äº‹ä»¶
    function bindMenuEvents() {
      document.querySelectorAll('.menu-item').forEach(item => {
        item.addEventListener('click', () => {
          const tab = item.dataset.tab;
          switchTab(tab);
        });
      });
    }

    // åˆ‡æ¢æ ‡ç­¾é¡µ
    function switchTab(tab) {
      // æ›´æ–°èœå•çŠ¶æ€
      document.querySelectorAll('.menu-item').forEach(item => {
        item.classList.toggle('active', item.dataset.tab === tab);
      });

      // æ›´æ–°å†…å®¹åŒº
      document.querySelectorAll('.tab-panel').forEach(panel => {
        panel.classList.toggle('active', panel.id === `panel-${tab}`);
      });
    }

    // å¤„ç†ç™»å½•
    function handleLogin(event) {
      event.preventDefault();
      
      const email = document.getElementById('loginEmail').value.trim();
      const birthday = document.getElementById('loginBirthday').value;
      
      if (!email || !birthday) {
        showToast('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯', 'error');
        return;
      }
      
      // éªŒè¯é‚®ç®±æ ¼å¼
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        showToast('è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€', 'error');
        return;
      }
      
      const loginTime = new Date().toLocaleString();
      const loginTimestamp = Date.now();
      
      // ä¿å­˜ç™»å½•ä¿¡æ¯åˆ° localStorage
      const userInfo = {
        email: email,
        birthday: birthday,
        loginTime: loginTime,
        loginTimestamp: loginTimestamp
      };
      localStorage.setItem('userInfo', JSON.stringify(userInfo));
      
      // Ptengine identify ç”¨æˆ·è¯†åˆ«
      ptengine.identify(email, {
        'ç™»å½•æ—¶é—´': loginTime,
        'ç™»å½•æ—¶é—´æˆ³': loginTimestamp,
        'ç”Ÿæ—¥': birthday
      });
      
      // ä½¿ç”¨æ–°çš„åŸ‹ç‚¹å·¥å…·
      PtTracking.trackLogin('é‚®ç®±ç™»å½•');
      
      showToast('ç™»å½•æˆåŠŸï¼');
      
      // æ˜¾ç¤ºå·²ç™»å½•ç•Œé¢
      showLoggedInView(userInfo);
    }
    
    // æ˜¾ç¤ºå·²ç™»å½•è§†å›¾
    function showLoggedInView(userInfo) {
      document.getElementById('loginContainer').style.display = 'none';
      document.getElementById('accountContent').style.display = 'grid';
      
      // æ›´æ–°æ˜¾ç¤ºçš„ç”¨æˆ·ä¿¡æ¯
      document.getElementById('displayEmail').textContent = userInfo.email;
      document.getElementById('sidebarUserName').textContent = userInfo.email.split('@')[0];
      document.getElementById('sidebarUserEmail').textContent = userInfo.email;
    }
    
    // å¤„ç†é€€å‡ºç™»å½•
    function handleLogout() {
      // ä½¿ç”¨æ–°çš„åŸ‹ç‚¹å·¥å…·
      PtTracking.trackLogout();
      
      localStorage.removeItem('userInfo');
      showToast('å·²é€€å‡ºç™»å½•');
      
      // æ˜¾ç¤ºç™»å½•ç•Œé¢
      document.getElementById('loginContainer').style.display = 'block';
      document.getElementById('accountContent').style.display = 'none';
      
      // æ¸…ç©ºè¡¨å•
      document.getElementById('loginEmail').value = '';
      document.getElementById('loginBirthday').value = '';
    }
    
    // æ£€æŸ¥ç™»å½•çŠ¶æ€
    function checkLoginStatus() {
      const userInfoStr = localStorage.getItem('userInfo');
      if (userInfoStr) {
        const userInfo = JSON.parse(userInfoStr);
        showLoggedInView(userInfo);
        
        // é‡æ–° identify ç”¨æˆ·ï¼ˆé¡µé¢åˆ·æ–°åï¼‰
        ptengine.identify(userInfo.email, {
          'ç™»å½•æ—¶é—´': userInfo.loginTime,
          'ç™»å½•æ—¶é—´æˆ³': userInfo.loginTimestamp,
          'ç”Ÿæ—¥': userInfo.birthday
        });
      }
    }
    
    // ç»‘å®šé€€å‡ºç™»å½•æŒ‰é’®äº‹ä»¶ï¼ˆä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼‰
    document.addEventListener('click', function(e) {
      if (e.target && e.target.id === 'logoutBtn') {
        e.preventDefault();
        e.stopPropagation();
        handleLogout();
      }
    });
    
    // åˆå§‹åŒ–
    checkLoginStatus();
    init();
  </script>
</body>
</html>
